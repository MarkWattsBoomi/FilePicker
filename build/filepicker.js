(()=>{var e={341:()=>{},877:()=>{},580:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DragEvent=t.eDragEventType=t.modalDialogButton=t.DialogBox=void 0;var u=s(n(804));n(341);var d=function(e){function t(t){var n=e.call(this,t)||this;return n.dragEvent=new h,n.dialogVisible=!1,n.dialogTitle="",n.dialogButtons=[],n.dialogOnClose=n.hideDialog,n.top=0,n.left=0,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleOutsideClick=n.handleOutsideClick.bind(n),n.showDialog=n.showDialog.bind(n),n.hideDialog=n.hideDialog.bind(n),n}return o(t,e),t.prototype.setDialog=function(e){if(this.dialog=e,this.dialog){var t=this.dialog.offsetParent.clientWidth/2,n=this.dialog.offsetParent.clientHeight/2,i=this.dialog.clientWidth/2,o=this.dialog.clientHeight/2;this.left=t-i,this.top=n-o,this.dialog.classList.add("shown"),this.positionDialog()}},t.prototype.positionDialog=function(){this.dialog&&(this.dialog.style.left=this.left+"px",this.dialog.style.top=this.top+"px")},t.prototype.stopEventBubble=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.showDialog=function(e,t,n,i){return l(this,void 0,void 0,(function(){return c(this,(function(o){return this.dialogVisible=!0,this.dialogTitle=e,this.dialogContent=t,this.dialogOnClose=i||this.hideDialog,this.dialogButtons=n,this.forceUpdate(),[2]}))}))},t.prototype.hideDialog=function(e){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.dialogVisible=!1,this.dialogTitle="",this.dialogContent=void 0,this.dialogOnClose=void 0,this.dialogButtons=[],this.forceUpdate(),[2]}))}))},t.prototype.handleKeyUp=function(e){var t=this,n={27:function(){e.preventDefault(),t.hideDialog()}};n[e.keyCode]&&n[e.keyCode]()},t.prototype.handleOutsideClick=function(e){this.dialog||this.dialog.contains(e.target)||this.hideDialog()},t.prototype.render=function(){var e,t=this;if(!1===this.dialogVisible)e=u.createElement("div",null);else{for(var n=[],i=function(e){n.push(u.createElement("button",{className:"modal-dialog-button-bar-button",title:"Cancel",onMouseDown:function(t){t.stopPropagation(),e.handler()}},e.label))},o=0,a=this.dialogButtons;o<a.length;o++)i(a[o]);e=u.createElement("div",{className:"modal-redaction",onMouseMove:function(e){t.onMouseMove(e)},onMouseUp:function(e){t.onMouseUp(e)},onMouseDown:function(e){t.handleOutsideClick(e)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),t.props.onContextMenu&&t.props.onContextMenu()}},u.createElement("div",{className:"modal-content",ref:function(e){t.setDialog(e)}},u.createElement("div",{className:"modal-dialog"},u.createElement("div",{className:"modal-dialog-header",onMouseDown:function(e){t.onMouseDown(e)}},u.createElement("div",{style:{display:"flex",flexDirection:"row",flexGrow:1}},u.createElement("span",{className:"modal-dialog-header-title"},this.dialogTitle)),u.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"auto",flexGrow:0}},u.createElement("span",{className:"glyphicon glyphicon-remove modal-dialog-header-button",title:"Close",onMouseDown:function(e){e.stopPropagation(),t.dialogOnClose()}}))),u.createElement("div",{className:"modal-dialog-body"},u.createElement("div",{className:"modal-dialog-body-client"},this.dialogContent)),u.createElement("div",{className:"modal-dialog-button-bar"},n))))}return e},t.prototype.moveMe=function(e,t){this.left=e,this.top=t,this.positionDialog()},t.prototype.onMouseDown=function(e){var t=e.target.getBoundingClientRect(),n=e.clientY-t.top;this.dragEvent=h.start(p.dialog,this,e.clientX-t.left,n)},t.prototype.onMouseMove=function(e){this.dragEvent.type===p.dialog&&this.moveMe(e.clientX-this.dragEvent.mouseOffsetX,e.clientY-this.dragEvent.mouseOffsetY)},t.prototype.onMouseUp=function(e){this.dragEvent.type===p.dialog&&this.dragEvent.end(null,e.clientX,e.clientY)},t}(u.Component);t.DialogBox=d;var p;t.modalDialogButton=function(e,t){this.label=e,this.handler=t},function(e){e[e.unknown=0]="unknown",e[e.canvas=1]="canvas",e[e.table=2]="table",e[e.link=3]="link",e[e.dialog=4]="dialog"}(p=t.eDragEventType||(t.eDragEventType={}));var h=function(){function e(){this.type=p.unknown,this.sourceElement=null,this.targetElement=null,this.mouseX=0,this.mouseY=0,this.mouseOffsetX=0,this.mouseOffsetY=0}return e.start=function(t,n,i,o){var a=new e;return a.type=t,a.sourceElement=n,a.targetElement=null,a.mouseX=i,a.mouseY=o,a.mouseOffsetX=i,a.mouseOffsetY=o,a},e.prototype.drag=function(e,t){this.mouseX=e,this.mouseY=t},e.prototype.end=function(e,t,n){this.targetElement=e,this.mouseX=t,this.mouseY=n,this.type=p.unknown},e}();t.DragEvent=h},351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),manywho.eventManager||(manywho.eventManager={},manywho.eventManager.beforeSendListeners={},manywho.eventManager.doneListeners={},manywho.eventManager.initializedListeners={},manywho.eventManager.joinListeners={},manywho.eventManager.failListeners={},manywho.eventManager.outcomeBeingTriggered,manywho.eventManager.history=[],manywho.eventManager.beforeSend=function(e,t){for(var n in e&&window.hasOwnProperty("culture")&&culture.length>0&&e.setRequestHeader("Culture",culture),manywho.eventManager.beforeSendListeners)manywho.eventManager.beforeSendListeners[n](e,t)},manywho.eventManager.join=function(e,t){for(var n in manywho.eventManager.joinListeners)manywho.eventManager.joinListeners[n](e,t)},manywho.eventManager.done=function(e,t){for(var n in manywho.eventManager.doneListeners)manywho.eventManager.doneListeners[n](e,t)},manywho.eventManager.initialized=function(e,t){for(var n in manywho.eventManager.initializedListeners)manywho.eventManager.initializedListeners[n](e,t)},manywho.eventManager.fail=function(e,t){for(var n in manywho.eventManager.failListeners)manywho.eventManager.failListeners[n](e,t)},manywho.eventManager.addBeforeSendListener=function(e,t){manywho.eventManager.beforeSendListeners[t]=e},manywho.eventManager.removeBeforeSendListener=function(e){delete manywho.eventManager.beforeSendListeners[e]},manywho.eventManager.addInitializedListener=function(e,t){manywho.eventManager.initializedListeners[t]=e},manywho.eventManager.removeInitializedListener=function(e){delete manywho.eventManager.initializedListeners[e]},manywho.eventManager.addJoinListener=function(e,t){manywho.eventManager.joinListeners[t]=e},manywho.eventManager.removeJoinListener=function(e){delete manywho.eventManager.joinListeners[e]},manywho.eventManager.addDoneListener=function(e,t){manywho.eventManager.doneListeners[t]=e},manywho.eventManager.removeDoneListener=function(e){delete manywho.eventManager.doneListeners[e]},manywho.eventManager.addFailListener=function(e,t){manywho.eventManager.failListeners[t]=e},manywho.eventManager.removeFailListener=function(e){delete manywho.eventManager.failListeners[e]},manywho.settings.initialize(null,{invoke:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.done,fail:manywho.eventManager.fail},initialization:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.initialized,fail:manywho.eventManager.fail},join:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.join,fail:manywho.eventManager.fail}}))},687:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(804));n(877),n(351);var d=n(580),p=function(e){function t(t){var n=e.call(this,t)||this;return n.selectedItem=null,n.text="",n.lastContent=u.createElement("div",null),n.fileSelected=n.fileSelected.bind(n),n.fileReadAsDataURL=n.fileReadAsDataURL.bind(n),n.ResizeBase64Img=n.ResizeBase64Img.bind(n),n.clearFile=n.clearFile.bind(n),n.pickFile=n.pickFile.bind(n),n.isImage=n.isImage.bind(n),n.rescaleImage=n.rescaleImage.bind(n),n.flowMoved=n.flowMoved.bind(n),n.state={imgData:void 0,fileName:void 0},n}return o(t,e),t.prototype.flowMoved=function(e,t){return l(this,void 0,void 0,(function(){return c(this,(function(t){return"FORWARD"===e.invokeType||e.invokeType,[2]}))}))},t.prototype.componentDidMount=function(){return l(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.preserveState()];case 1:return e.sent(),this.forceUpdate(),[2]}}))}))},t.prototype.preserveState=function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){return e=manywho.model.getComponent(this.props.id,this.props.flowKey),t={},"ContentString"===e.contentType?t.contentValue=e.contentValue:t.objectData=e.objectData,manywho.state.setComponent(this.props.id,t,this.props.flowKey,!0),[2]}))}))},t.prototype.componentWillUnmount=function(){},t.prototype.rescaleImage=function(e){this.img.width>=this.img.height?(this.img.style.width="100%",this.img.style.height="auto"):(this.img.style.width="auto",this.img.style.height="100%")},t.prototype.componentWillReceiveProps=function(e){console.log("ping")},t.prototype.clearFile=function(){var e,t,n,i,o;return l(this,void 0,void 0,(function(){var a,r,s;return c(this,(function(l){return"ContentString"===(a=manywho.model.getComponent(this.props.id,this.props.flowKey)).contentType?manywho.state.setComponent(this.props.id,{contentValue:""},this.props.flowKey,!0):(r=manywho.state.getComponent(this.props.id,this.props.flowKey),s=void 0,(s=r.objectData&&r.objectData instanceof Array?r.objectData[0]:r.objectData)||(s=a.objectData&&a.objectData instanceof Array?a.objectData[0]:a.objectData),s&&(manywho.utils.setObjectDataProperty(s.properties,null===(e=a.attributes)||void 0===e?void 0:e.fileNameField,""),manywho.utils.setObjectDataProperty(s.properties,null===(t=a.attributes)||void 0===t?void 0:t.extensionField,""),manywho.utils.setObjectDataProperty(s.properties,null===(n=a.attributes)||void 0===n?void 0:n.mimeTypeField,""),manywho.utils.setObjectDataProperty(s.properties,null===(i=a.attributes)||void 0===i?void 0:i.sizeField,""),manywho.utils.setObjectDataProperty(s.properties,null===(o=a.attributes)||void 0===o?void 0:o.dataField,""),s.isSelected=!1),manywho.state.setComponent(this.props.id,{objectData:[s]},this.props.flowKey,!0)),manywho.component.handleEvent(this,a,this.props.flowKey),[2]}))}))},t.prototype.pickFile=function(){this.fileInput.value="",this.fileInput.click()},t.prototype.isImage=function(e){switch(e){case"image/jpg":case"image/jpeg":case"image/bmp":case"image/gif":case"image/giff":case"image/png":case"image/webp":return!0;default:return!1}},t.prototype.fileSelected=function(e){var t,n,i,o,a,r,s,p,h,f,m;return l(this,void 0,void 0,(function(){var e,l,v,g,y,b,w,D,M,j,O,x,E;return c(this,(function(c){switch(c.label){case 0:return this.fileInput.files&&this.fileInput.files.length>0?(e=manywho.model.getComponent(this.props.id,this.props.flowKey),l=this.fileInput.files[0],[4,this.fileReadAsDataURL(l)]):[3,8];case 1:return v=c.sent(),g=l.name.lastIndexOf(".")>=0?l.name.substring(0,l.name.lastIndexOf(".")):l.name,y=l.name.lastIndexOf(".")>=0?l.name.substring(l.name.lastIndexOf(".")+1).toLowerCase():"",b=l.type,w=l.size,(D=parseInt(e.attributes.maxSizeKB||0))>0&&w>1e3*D?(this.messageBox.showDialog("File Too Large",u.createElement("span",null,"The file you have chosen is ",w," bytes long and exceeds the maximum file size of ",D),[new d.modalDialogButton("Ok",this.messageBox.hideDialog)]),[3,8]):[3,2];case 2:return this.isImage(b)?(M=0,parseInt(e.attributes.imageSize||"0")>0&&(M=parseInt(e.attributes.imageSize)),M>0?[4,this.ResizeBase64Img(v,M)]:[3,4]):[3,4];case 3:v=c.sent(),c.label=4;case 4:return"ContentString"===e.contentType?manywho.state.setComponent(this.props.id,{contentValue:v},this.props.flowKey,!0):(j=manywho.state.getComponent(this.props.id,this.props.flowKey),O=void 0,(O=j.objectData&&j.objectData instanceof Array?j.objectData[0]:j.objectData)||(O=e.objectData&&e.objectData instanceof Array?e.objectData[0]:e.objectData),O&&(O.properties,(null===(t=e.attributes)||void 0===t?void 0:t.fileNameField)&&manywho.utils.setObjectDataProperty(O.properties,null===(n=e.attributes)||void 0===n?void 0:n.fileNameField,g),O.properties,(null===(i=e.attributes)||void 0===i?void 0:i.extensionField)&&manywho.utils.setObjectDataProperty(O.properties,null===(o=e.attributes)||void 0===o?void 0:o.extensionField,y),O.properties,(null===(a=e.attributes)||void 0===a?void 0:a.mimeTypeField)&&manywho.utils.setObjectDataProperty(O.properties,null===(r=e.attributes)||void 0===r?void 0:r.mimeTypeField,b),O.properties,(null===(s=e.attributes)||void 0===s?void 0:s.sizeField)&&manywho.utils.setObjectDataProperty(O.properties,null===(p=e.attributes)||void 0===p?void 0:p.sizeField,w),O.properties,(null===(h=e.attributes)||void 0===h?void 0:h.dataField)&&manywho.utils.setObjectDataProperty(O.properties,null===(f=e.attributes)||void 0===f?void 0:f.dataField,v)),manywho.state.setComponent(this.props.id,{objectData:[O]},this.props.flowKey,!0)),(null===(m=e.attributes)||void 0===m?void 0:m.onSelected)&&e.attributes.onSelected.length>0?(x=manywho.model.getOutcomes(this.props.id,this.props.flowKey),(E=x.find((function(t){return t.value===e.attributes.onSelected})))?[4,manywho.component.onOutcome(E,null,this.props.flowKey)]:[3,6]):[3,7];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:manywho.component.handleEvent(this,e,this.props.flowKey),c.label=8;case 8:return[2]}}))}))},t.prototype.fileReadAsDataURL=function(e){return l(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=new FileReader,[2,new Promise((function(n,i){t.onerror=function(){t.abort(),i(new DOMException("Problem reading file"))},t.onload=function(){n(t.result)},t.readAsDataURL(e)}))]}))}))},t.prototype.ResizeBase64Img=function(e,t){return l(this,void 0,void 0,(function(){var n;return c(this,(function(i){return n=new Image,[2,new Promise((function(i,o){n.onload=function(){var e=n.height/n.width,o=document.createElement("canvas");o.width=t,o.height=t*e;var a=o.getContext("2d");n.width,a.scale(o.width/n.width,o.height/n.height),a.drawImage(n,0,0);var r=o.toDataURL();i(r)},n.onerror=function(){o(new DOMException("Problem loading image file"))},n.src=e}))]}))}))},t.prototype.render=function(){var e,t,n,i,o,a,r,s=this,l=manywho.model.getComponent(this.props.id,this.props.flowKey),c=manywho.state.getComponent(this.props.id,this.props.flowKey),p="",h="",f=(null===(e=l.attributes)||void 0===e?void 0:e.title)||"Select File";"true"===(null===(n=null===(t=l.attributes)||void 0===t?void 0:t.transparent)||void 0===n?void 0:n.toLowerCase())?(p="file-picker-transparent "+(null===(i=l.attributes)||void 0===i?void 0:i.classes),h="file-picker-header-transparent ",f=""):(p="file-picker "+(null===(o=l.attributes)||void 0===o?void 0:o.classes),h="file-picker-header ");var m,v,g,y,b,w,D={width:"-webkit-fill-available",height:"-webkit-fill-available"};if(!1===l.isVisible&&(D.display="none"),l.width&&(D.width=l.width+"px"),l.height&&(D.height=l.height+"px"),m=this.pickFile,v=u.createElement("span",{className:"glyphicon glyphicon-remove file-picker-header-button",onClick:this.clearFile,title:"Clear selected file"}),"ContentString"===l.contentType)y=c.contentValue;else{var M=void 0;c&&c.objectData&&(M=c.objectData instanceof Array?c.objectData[0]:c.objectData),M||(M=l.objectData&&l.objectData instanceof Array?l.objectData[0]:l.objectData)&&manywho.state.setComponent(this.props.id,{objectData:[M]},this.props.flowKey,!0),M&&(b=null===(a=manywho.utils.getObjectDataProperty(M.properties,l.attributes.fileNameField))||void 0===a?void 0:a.contentValue,y=null===(r=manywho.utils.getObjectDataProperty(M.properties,l.attributes.dataField))||void 0===r?void 0:r.contentValue)}return y?(g=y.substring(y.indexOf(":")+1,y.indexOf(";")),w=this.isImage(g)?u.createElement("img",{style:{maxHeight:"100%",maxWidth:"100%",width:"auto",OObjectFit:"cover"},ref:function(e){s.img=e},className:"file-picker-image",src:y,onLoad:this.rescaleImage}):u.createElement("span",{className:"file-picker-file-name"},b)):w=u.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},u.createElement("div",{style:{margin:"auto",display:"flex",flexDirection:"column"}},u.createElement("span",{className:"file-picker-file-name",style:{margin:"auto"}},"No file selected"),u.createElement("span",{className:"file-picker-file-name",style:{margin:"auto"}},"Click to select a file"))),this.lastContent=u.createElement("div",{className:p,style:D},u.createElement(d.DialogBox,{ref:function(e){s.messageBox=e}}),u.createElement("div",{className:h},u.createElement("div",{className:"file-picker-header-left"},u.createElement("span",{className:"file-picker-header-title"},f)),u.createElement("div",{className:"file-picker-header-right"},v)),u.createElement("div",{className:"file-picker-body",onClick:m,ref:function(e){s.imgDiv=e}},w,u.createElement("input",{ref:function(e){s.fileInput=e},type:"file",className:"file-file",onChange:this.fileSelected}))),this.lastContent},t}(u.Component);t.default=p,manywho.component.register("FilePicker",p)},629:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(687),t)},804:e=>{"use strict";e.exports=React}},t={};!function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(629)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCx1QkFBS2EsVUFBVSw0QkFDVjhLLElBSVQsdUJBQ0k5SyxVQUFVLG1CQUNWaUwsUUFBU0osRUFDVHRLLElBQUssU0FBQ2dMLEdBQWtCLEVBQUtHLE9BQVNILElBRXJDbk0sRUFDRCx5QkFDSW1CLElBQUssU0FBQ29MLEdBQWMsRUFBS3BFLFVBQVlvRSxHQUNyQ3RLLEtBQUssT0FDTHJCLFVBQVUsWUFDVjRMLFNBQVU3TixLQUFLNEcsaUJBSzVCNUcsS0FBSzJHLGFBR3BCLEVBdmRBLENBQXdDbEQsRUFBTUMsVyxZQXlkOUNVLFFBQVFrRixVQUFVd0UsU0FBUyxhQUFjQyxJLDJaQ2xlekMsYSxxQkNBQUMsRUFBT0MsUUFBVXhLLFFDQ2J5SyxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCM00sSUFBakI0TSxFQUNILE9BQU9BLEVBQWFKLFFBR3JCLElBQUlELEVBQVNFLEVBQXlCRSxHQUFZLENBR2pESCxRQUFTLElBT1YsT0FIQUssRUFBb0JGLEdBQVVHLEtBQUtQLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVNFLEdBR3BFSCxFQUFPQyxRQ2xCV0UsQ0FBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2N1c3QvLi9zcmMvRGlhbG9nQm94LnRzeCIsIndlYnBhY2s6Ly9jdXN0Ly4vc3JjL0V2ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly9jdXN0Ly4vc3JjL0ZpbGVQaWNrZXIudHN4Iiwid2VicGFjazovL2N1c3QvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL2N1c3QvZXh0ZXJuYWwgXCJSZWFjdFwiIiwid2VicGFjazovL2N1c3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY3VzdC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0ICcuL0RpYWxvZ0JveC5jc3MnO1xyXG5cclxuXHJcblxyXG4vLyBEZWNsYXJhdGlvbiBvZiB0aGUgY29tcG9uZW50IGFzIFJlYWN0IENsYXNzIENvbXBvbmVudFxyXG5leHBvcnQgY2xhc3MgRGlhbG9nQm94IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XHJcbiAgICBkcmFnRXZlbnQ6IERyYWdFdmVudCA9IG5ldyBEcmFnRXZlbnQoKTtcclxuICAgIG1vZGFsOiBhbnk7XHJcbiAgICBkaWFsb2c6IGFueTtcclxuXHJcbiAgICBkaWFsb2dWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBkaWFsb2dUaXRsZTogc3RyaW5nID0gJyc7XHJcbiAgICBkaWFsb2dCdXR0b25zOiBhbnkgPSBbXTtcclxuICAgIGRpYWxvZ0NvbnRlbnQ6IGFueTtcclxuICAgIGRpYWxvZ09uQ2xvc2U6IGFueSA9IHRoaXMuaGlkZURpYWxvZztcclxuXHJcbiAgICB0b3A6IG51bWJlciA9IDA7XHJcbiAgICBsZWZ0OiBudW1iZXIgPSAwO1xyXG4gIC8vIEluaXQgb2YgdGhlIGNvbXBvbmVudCBiZWZvcmUgaXQgaXMgbW91bnRlZC5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlS2V5VXAgPSB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSB0aGlzLmhhbmRsZU91dHNpZGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRoaXMuc2hvd0RpYWxvZy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGlkZURpYWxvZyA9IHRoaXMuaGlkZURpYWxvZy5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpYWxvZyhkaWFsb2c6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xyXG4gICAgICBpZih0aGlzLmRpYWxvZykge1xyXG5cclxuICAgICAgICAgIGNvbnN0IHBhcmVudFhDZW50ZXIgPSB0aGlzLmRpYWxvZy5vZmZzZXRQYXJlbnQuY2xpZW50V2lkdGggLyAyO1xyXG4gICAgICAgICAgY29uc3QgcGFyZW50WUNlbnRlciA9IHRoaXMuZGlhbG9nLm9mZnNldFBhcmVudC5jbGllbnRIZWlnaHQgLyAyO1xyXG4gICAgICAgICAgY29uc3QgZGlhbG9nWE9mZnNldCA9IHRoaXMuZGlhbG9nLmNsaWVudFdpZHRoIC8gMjtcclxuICAgICAgICAgIGNvbnN0IGRpYWxvZ1lPZmZzZXQgPSB0aGlzLmRpYWxvZy5jbGllbnRIZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgIHRoaXMubGVmdCA9IHBhcmVudFhDZW50ZXIgLSBkaWFsb2dYT2Zmc2V0O1xyXG4gICAgICAgICAgdGhpcy50b3AgPSBwYXJlbnRZQ2VudGVyIC0gZGlhbG9nWU9mZnNldDtcclxuICAgICAgICAgIHRoaXMuZGlhbG9nLmNsYXNzTGlzdC5hZGQoJ3Nob3duJyk7XHJcbiAgICAgICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwb3NpdGlvbkRpYWxvZygpIHtcclxuICAgICAgaWYodGhpcy5kaWFsb2cpIHtcclxuICAgICAgICAgIHRoaXMuZGlhbG9nLnN0eWxlLmxlZnQgPSB0aGlzLmxlZnQgKyBcInB4XCI7XHJcbiAgICAgICAgICB0aGlzLmRpYWxvZy5zdHlsZS50b3AgPSB0aGlzLnRvcCArIFwicHhcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0b3BFdmVudEJ1YmJsZShlOiAgYW55KSB7XHJcbiAgICAgICAgaWYoZS5zdG9wUHJvcGFnYXRpb24pIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgaWYoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuY2FuY2VsQnViYmxlPXRydWU7XHJcbiAgICAgICAgZS5yZXR1cm5WYWx1ZT1mYWxzZTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGxpc3RlbmVycyBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xyXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2hvd0RpYWxvZyh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBhbnksIGJ1dHRvbnM6IG1vZGFsRGlhbG9nQnV0dG9uW10sIG9uQ2xvc2U/OiBhbnkpIHtcclxuICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9IHRpdGxlO1xyXG4gICAgICB0aGlzLmRpYWxvZ0NvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICB0aGlzLmRpYWxvZ09uQ2xvc2UgPSBvbkNsb3NlIHx8IHRoaXMuaGlkZURpYWxvZztcclxuICAgICAgdGhpcy5kaWFsb2dCdXR0b25zID0gYnV0dG9ucztcclxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAvL3JldHVybiB0aGlzLnByb3BzLnBhcmVudC5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhpZGVEaWFsb2coZT8gOiBhbnkpIHtcclxuICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJyc7XHJcbiAgICAgICAgdGhpcy5kaWFsb2dDb250ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nT25DbG9zZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmRpYWxvZ0J1dHRvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgLy9yZXR1cm4gdGhpcy5wcm9wcy5wYXJlbnQuZm9yY2VVcGRhdGUoKTtcclxuICAgIH1cclxuICBcclxuICBcclxuICAgIC8vIEhhbmRsZSB0aGUga2V5IHByZXNzIGV2ZW50LlxyXG4gICAgaGFuZGxlS2V5VXAoZTogYW55KSB7XHJcbiAgICAgIGNvbnN0IGtleXM6IGFueSA9IHtcclxuICAgICAgICAyNzogKCkgPT4ge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgdGhpcy5oaWRlRGlhbG9nKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChrZXlzW2Uua2V5Q29kZV0pIHsgXHJcbiAgICAgICAga2V5c1tlLmtleUNvZGVdKCk7IFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIFxyXG5cclxuICAgIC8vIEhhbmRsZSB0aGUgbW91c2UgY2xpY2sgb24gYnJvd3NlciB3aW5kb3cuXHJcbiAgICBoYW5kbGVPdXRzaWRlQ2xpY2soZTogYW55KSB7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXRoaXMuZGlhbG9nKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuZGlhbG9nLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVEaWFsb2coKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG5cclxuICAvLyBSZW5kZXIgdGhlIGNvbXBvbmVudCBwYXNzaW5nIG9uQ2xvc2VSZXF1ZXN0IGFuZCBjaGlsZHJlbiBhcyBwcm9wcy5cclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQgY29udGVudDogYW55O1xyXG4gICAgaWYodGhpcy5kaWFsb2dWaXNpYmxlID09PSBmYWxzZSkge1xyXG4gICAgICBjb250ZW50ID0gKFxyXG4gICAgICAgICAgPGRpdi8+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgYnV0dG9uczogQXJyYXk8SlNYLkVsZW1lbnQ+ID0gW107XHJcbiAgICAgIGZvcihjb25zdCBidXR0b24gb2YgdGhpcy5kaWFsb2dCdXR0b25zKSB7XHJcbiAgICAgICAgICBidXR0b25zLnB1c2goXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWJ1dHRvbi1iYXItYnV0dG9uXCIgXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2FuY2VsXCIgXHJcbiAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge2Uuc3RvcFByb3BhZ2F0aW9uKCk7YnV0dG9uLmhhbmRsZXIoKX19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7YnV0dG9uLmxhYmVsfVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBjb250ZW50ID0gKFxyXG4gICAgICAgIDxkaXYgXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1yZWRhY3Rpb25cIlxyXG4gICAgICAgICAgb25Nb3VzZU1vdmU9eyhlKSA9PiB7dGhpcy5vbk1vdXNlTW92ZShlKX19XHJcbiAgICAgICAgICBvbk1vdXNlVXA9eyhlKSA9PiB7dGhpcy5vbk1vdXNlVXAoZSl9fVxyXG4gICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7dGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2soZSl9fVxyXG4gICAgICAgICAgb25Db250ZXh0TWVudT17ZSA9PiB7ZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpO2lmKHRoaXMucHJvcHMub25Db250ZXh0TWVudSl7dGhpcy5wcm9wcy5vbkNvbnRleHRNZW51KCl9fX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCJcclxuICAgICAgICAgICAgcmVmPXsobm9kZSkgPT4ge3RoaXMuc2V0RGlhbG9nKG5vZGUpfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2ctaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7dGhpcy5vbk1vdXNlRG93bihlKX19XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwicm93XCIsIGZsZXhHcm93OiAxfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWhlYWRlci10aXRsZVwiPnt0aGlzLmRpYWxvZ1RpdGxlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwicm93XCIsIG1hcmdpbkxlZnQ6ICdhdXRvJywgZmxleEdyb3c6IDB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUgbW9kYWwtZGlhbG9nLWhlYWRlci1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpOyB0aGlzLmRpYWxvZ09uQ2xvc2UoKX19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZy1ib2R5LWNsaWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmRpYWxvZ0NvbnRlbnR9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXYgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZy1idXR0b24tYmFyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7YnV0dG9uc30gICBcclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXYgPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGVudDtcclxuICB9XHJcblxyXG4gIG1vdmVNZShsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyKSB7XHJcbiAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XHJcbiAgICAgIHRoaXMudG9wID0gdG9wOyAvLyAtIHRoaXMuYm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgdGhpcy5wb3NpdGlvbkRpYWxvZygpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZURvd24oZTogYW55KSB7XHJcbiAgICAvL3RoaXMuc3RvcEV2ZW50QnViYmxlKGUpO1xyXG4gICAgLy9pbmNsdWRlIGNvbXBvbmVudCBib3VuZGluZyByZWN0IHRvIGFsbG93IGZvciBtb3VzZSBvZmZzZXQgaW50byBjb21wb25lbnRcclxuICAgIGxldCBjbGllbnRSZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgbW91c2VPZmZzZXRZOiBudW1iZXIgPSBlLmNsaWVudFkgLSBjbGllbnRSZWN0LnRvcDtcclxuICAgIHRoaXMuZHJhZ0V2ZW50ID0gRHJhZ0V2ZW50LnN0YXJ0KGVEcmFnRXZlbnRUeXBlLmRpYWxvZywgdGhpcywgZS5jbGllbnRYIC0gY2xpZW50UmVjdC5sZWZ0LCBtb3VzZU9mZnNldFkpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUoZTogYW55KSB7XHJcbiAgICAvL3RoaXMuc3RvcEV2ZW50QnViYmxlKGUpO1xyXG4gICAgaWYodGhpcy5kcmFnRXZlbnQudHlwZSA9PT0gZURyYWdFdmVudFR5cGUuZGlhbG9nKVxyXG4gICAge1xyXG4gICAgICB0aGlzLm1vdmVNZShlLmNsaWVudFggLSB0aGlzLmRyYWdFdmVudC5tb3VzZU9mZnNldFgsIGUuY2xpZW50WSAtIHRoaXMuZHJhZ0V2ZW50Lm1vdXNlT2Zmc2V0WSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAoZTogYW55KSB7XHJcbiAgICAvL3RoaXMuc3RvcEV2ZW50QnViYmxlKGUpO1xyXG4gICAgaWYodGhpcy5kcmFnRXZlbnQudHlwZSA9PT0gZURyYWdFdmVudFR5cGUuZGlhbG9nKVxyXG4gICAge1xyXG4gICAgICB0aGlzLmRyYWdFdmVudC5lbmQobnVsbCxlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgbW9kYWxEaWFsb2dCdXR0b24ge1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIGhhbmRsZXI6IGFueTtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKGxhYmVsOiBzdHJpbmcsIGhhbmRsZXI6IGFueSkge1xyXG4gICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBlbnVtIGVEcmFnRXZlbnRUeXBlXHJcbiAge1xyXG4gICAgICB1bmtub3duLFxyXG4gICAgICBjYW52YXMsXHJcbiAgICAgIHRhYmxlLFxyXG4gICAgICBsaW5rLFxyXG4gICAgICBkaWFsb2dcclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGNsYXNzIERyYWdFdmVudFxyXG4gIHtcclxuICAgICAgdHlwZTogZURyYWdFdmVudFR5cGU7XHJcbiAgICAgIHNvdXJjZUVsZW1lbnQ6IGFueTtcclxuICAgICAgdGFyZ2V0RWxlbWVudDogYW55O1xyXG4gICAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgICAgbW91c2VZOiBudW1iZXI7XHJcbiAgICAgIG1vdXNlT2Zmc2V0WDogbnVtYmVyO1xyXG4gICAgICBtb3VzZU9mZnNldFk6IG51bWJlcjtcclxuICBcclxuICAgICAgY29uc3RydWN0b3IoKVxyXG4gICAgICB7XHJcbiAgICAgICAgICB0aGlzLnR5cGUgPSBlRHJhZ0V2ZW50VHlwZS51bmtub3duO1xyXG4gICAgICAgICAgdGhpcy5zb3VyY2VFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlWSA9IDA7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlT2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlT2Zmc2V0WSA9IDA7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcHVibGljIHN0YXRpYyBzdGFydCh0eXBlOiBlRHJhZ0V2ZW50VHlwZSwgc291cmNlRWxlbWVudDogYW55LCBtb3VzZVg6IG51bWJlciwgbW91c2VZOiBudW1iZXIpOiBEcmFnRXZlbnRcclxuICAgICAge1xyXG4gICAgICAgICAgY29uc3QgZXZ0OiBEcmFnRXZlbnQgPSBuZXcgRHJhZ0V2ZW50KCk7XHJcbiAgICAgICAgICBldnQudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICBldnQuc291cmNlRWxlbWVudCA9IHNvdXJjZUVsZW1lbnQ7XHJcbiAgICAgICAgICBldnQudGFyZ2V0RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICBldnQubW91c2VYID0gbW91c2VYO1xyXG4gICAgICAgICAgZXZ0Lm1vdXNlWSA9IG1vdXNlWTtcclxuICAgICAgICAgIGV2dC5tb3VzZU9mZnNldFggPSBtb3VzZVg7XHJcbiAgICAgICAgICBldnQubW91c2VPZmZzZXRZID0gbW91c2VZO1xyXG4gICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBkcmFnKG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcilcclxuICAgICAge1xyXG4gICAgICAgICAgdGhpcy5tb3VzZVggPSBtb3VzZVg7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlWSA9IG1vdXNlWTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBlbmQodGFyZ2V0OiBhbnksIG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcikgOiBhbnlcclxuICAgICAge1xyXG4gIFxyXG4gICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgdGhpcy5tb3VzZVggPSBtb3VzZVg7XHJcbiAgICAgICAgICB0aGlzLm1vdXNlWSA9IG1vdXNlWTtcclxuICBcclxuICAgICAgICAgIHRoaXMudHlwZT1lRHJhZ0V2ZW50VHlwZS51bmtub3duOyAgICAgIFxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuIiwiZGVjbGFyZSBjb25zdCBtYW55d2hvOiBhbnk7XHJcbmRlY2xhcmUgY29uc3QgY3VsdHVyZTogYW55O1xyXG5cclxuaWYgKCEobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlcikge1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnMgPSB7fTtcclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmluaXRpYWxpemVkTGlzdGVuZXJzID0ge307XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5qb2luTGlzdGVuZXJzID0ge307XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzID0ge307XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQ7XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5oaXN0b3J5ID0gW107XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZCA9ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHtcclxuICAgICAgICBpZih4aHIpIHtcclxuICAgICAgICAgICAgaWYod2luZG93Lmhhc093blByb3BlcnR5KFwiY3VsdHVyZVwiKSAmJiBjdWx0dXJlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ3VsdHVyZVwiLCBjdWx0dXJlKTsgLy9cIkJyYW5kPVhMJkNvdW50cnk9WEwmTGFuZ3VhZ2U9RVMmVmFyaWFudD1YTFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyhtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4gbGlzdGVuZXIoeGhyLCByZXF1ZXN0KSk7XHJcbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnNba2V5XSh4aHIsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuam9pbiA9ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHtcclxuICAgICAgICAvLyhtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4gbGlzdGVuZXIoeGhyLCByZXF1ZXN0KSk7XHJcbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5qb2luTGlzdGVuZXJzIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmpvaW5MaXN0ZW5lcnNba2V5XSh4aHIsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZSA9ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHtcclxuICAgICAgICAvLyhtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4gbGlzdGVuZXIoeGhyLCByZXF1ZXN0KSk7XHJcbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnNba2V5XSh4aHIsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuaW5pdGlhbGl6ZWQgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuaW5pdGlhbGl6ZWRMaXN0ZW5lcnMgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuaW5pdGlhbGl6ZWRMaXN0ZW5lcnNba2V5XSh4aHIsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbCA9ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHtcclxuICAgICAgICAvLyhtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4gbGlzdGVuZXIoeGhyLCByZXF1ZXN0KSk7XHJcbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNba2V5XSh4aHIsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkQmVmb3JlU2VuZExpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZUJlZm9yZVNlbmRMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmRMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRJbml0aWFsaXplZExpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5pbml0aWFsaXplZExpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVJbml0aWFsaXplZExpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuaW5pdGlhbGl6ZWRMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRKb2luTGlzdGVuZXIgPSAoaGFuZGxlcjogKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4gdm9pZCwgY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmpvaW5MaXN0ZW5lcnNbY29tcG9uZW50SWRdID0gaGFuZGxlcjtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlSm9pbkxpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuam9pbkxpc3RlbmVyc1tjb21wb25lbnRJZF07XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZERvbmVMaXN0ZW5lciA9IChoYW5kbGVyOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB2b2lkLCBjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVEb25lTGlzdGVuZXIgPSAoY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2NvbXBvbmVudElkXTtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRmFpbExpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZUZhaWxMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICBtYW55d2hvLnNldHRpbmdzLmluaXRpYWxpemUobnVsbCwge1xyXG4gICAgICAgIGludm9rZToge1xyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kLFxyXG4gICAgICAgICAgICBkb25lOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lLFxyXG4gICAgICAgICAgICBmYWlsOiAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdGlhbGl6YXRpb246IHtcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZCxcclxuICAgICAgICAgICAgZG9uZTogKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuaW5pdGlhbGl6ZWQsXHJcbiAgICAgICAgICAgIGZhaWw6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBqb2luOiB7XHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQsXHJcbiAgICAgICAgICAgIGRvbmU6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmpvaW4sXHJcbiAgICAgICAgICAgIGZhaWw6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnR7fTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi9GaWxlUGlja2VyLmNzcyc7XHJcblxyXG5pbXBvcnQgJy4vRXZlbnRNYW5hZ2VyJztcclxuaW1wb3J0IHsgQ1NTUHJvcGVydGllcyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgRGlhbG9nQm94LCBtb2RhbERpYWxvZ0J1dHRvbiB9IGZyb20gJy4vRGlhbG9nQm94JztcclxuXHJcbmRlY2xhcmUgY29uc3QgbWFueXdobzogYW55O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsZVBpY2tlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnksYW55PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW06IHN0cmluZyA9IG51bGw7XHJcbiAgICBpbWdEaXY6IGFueTtcclxuICAgIGltZzogYW55O1xyXG4gICAgdGV4dDogc3RyaW5nID0gJyc7XHJcbiAgICBmaWxlSW5wdXQ6IGFueTtcclxuXHJcbiAgICBtZXNzYWdlQm94OiBEaWFsb2dCb3g7XHJcblxyXG4gICAgbGFzdENvbnRlbnQ6IGFueSA9ICg8ZGl2PjwvZGl2Pik7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLmZpbGVTZWxlY3RlZCA9IHRoaXMuZmlsZVNlbGVjdGVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5maWxlUmVhZEFzRGF0YVVSTCA9IHRoaXMuZmlsZVJlYWRBc0RhdGFVUkwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLlJlc2l6ZUJhc2U2NEltZyA9IHRoaXMuUmVzaXplQmFzZTY0SW1nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbGVhckZpbGUgPSB0aGlzLmNsZWFyRmlsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGlja0ZpbGUgPSB0aGlzLnBpY2tGaWxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5pc0ltYWdlID0gdGhpcy5pc0ltYWdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZXNjYWxlSW1hZ2UgPSB0aGlzLnJlc2NhbGVJbWFnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZmxvd01vdmVkID0gdGhpcy5mbG93TW92ZWQuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZT17XHJcbiAgICAgICAgICAgIGltZ0RhdGE6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgZmlsZU5hbWU6IHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZmxvd01vdmVkKHhocjogYW55LCByZXF1ZXN0OiBhbnkpIHtcclxuICAgICAgICBsZXQgbWU6IGFueSA9IHRoaXM7XHJcbiAgICAgICAgaWYoeGhyLmludm9rZVR5cGU9PT0nRk9SV0FSRCcpIHtcclxuICAgICAgICAgICAvL21hbnl3aG8ubW9kZWwucGFyc2VFbmdpbmVSZXNwb25zZSh4aHIsIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgICAgLy9hd2FpdCB0aGlzLnByZXNlcnZlU3RhdGUoKTtcclxuICAgICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih4aHIuaW52b2tlVHlwZT09PSdTWU5DJykge1xyXG4gICAgICAgICAgICAvL21hbnl3aG8ubW9kZWwucGFyc2VFbmdpbmVTeW5jUmVzcG9uc2UoeGhyLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICAvL2F3YWl0IHRoaXMucHJlc2VydmVTdGF0ZSgpO1xyXG4gICAgICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICAvLyhtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZERvbmVMaXN0ZW5lcih0aGlzLmZsb3dNb3ZlZCwgdGhpcy5wcm9wcy5pZCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVzZXJ2ZVN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByZXNlcnZlU3RhdGUoKXtcclxuICAgICAgICBsZXQgbW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGxldCBuZXdTdGF0ZSA6IGFueSA9IHt9O1xyXG4gICAgICAgIGlmIChtb2RlbC5jb250ZW50VHlwZSA9PT0gJ0NvbnRlbnRTdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5ld1N0YXRlLmNvbnRlbnRWYWx1ZSA9IG1vZGVsLmNvbnRlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld1N0YXRlLm9iamVjdERhdGEgPSBtb2RlbC5vYmplY3REYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCBuZXdTdGF0ZSwgdGhpcy5wcm9wcy5mbG93S2V5LHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIC8vKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRG9uZUxpc3RlbmVyKHRoaXMucHJvcHMuaWQpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgcmVzY2FsZUltYWdlKGU6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoOiBudW1iZXIgPSB0aGlzLmltZy53aWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQ6IG51bWJlciA9IHRoaXMuaW1nLmhlaWdodDtcclxuXHJcbiAgICAgICAgLy8gbmVlZCB0byBjaGVjayBvbiBJRSBjb21wYXRpYmlsaXR5IGhlcmUgLSBpIHRoaW5rIGFzcGVjdCByYXRpb24gaXMgd3JvbmcgaW4gSUVcclxuICAgICAgICBpZiAod2lkdGggPj0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICB0aGlzLmltZy5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgIHRoaXMuaW1nLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuICAgICAgICAgICAgLy8gdGhpcy5pbWdEaXYuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICB0aGlzLmltZy5zdHlsZS53aWR0aCA9ICdhdXRvJztcclxuICAgICAgICAgICAgIHRoaXMuaW1nLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICAgICAgLy8gdGhpcy5pbWdEaXYuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdyb3cnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogYW55KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwaW5nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsZWFyRmlsZSgpIHtcclxuICAgICAgICBsZXQgbW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBsZXQgbmV3U3RhdGUgOiBhbnkgPSB7fTtcclxuICAgICAgICBpZiAobW9kZWwuY29udGVudFR5cGUgPT09ICdDb250ZW50U3RyaW5nJykge1xyXG4gICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB7Y29udGVudFZhbHVlOiBcIlwifSwgdGhpcy5wcm9wcy5mbG93S2V5LHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHN0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgbGV0IG9iakRhdGE6IGFueTtcclxuICAgICAgICAgICAgaWYoc3RhdGUub2JqZWN0RGF0YSAmJiBzdGF0ZS5vYmplY3REYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIG9iakRhdGEgPSBzdGF0ZS5vYmplY3REYXRhWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqRGF0YSA9IHN0YXRlLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIW9iakRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYobW9kZWwub2JqZWN0RGF0YSAmJiBtb2RlbC5vYmplY3REYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmpEYXRhID0gbW9kZWwub2JqZWN0RGF0YVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iakRhdGEgPSBtb2RlbC5vYmplY3REYXRhO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihvYmpEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBtYW55d2hvLnV0aWxzLnNldE9iamVjdERhdGFQcm9wZXJ0eShvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlcz8uZmlsZU5hbWVGaWVsZCxcIlwiKTtcclxuICAgICAgICAgICAgICAgIG1hbnl3aG8udXRpbHMuc2V0T2JqZWN0RGF0YVByb3BlcnR5KG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5leHRlbnNpb25GaWVsZCxcIlwiKTtcclxuICAgICAgICAgICAgICAgIG1hbnl3aG8udXRpbHMuc2V0T2JqZWN0RGF0YVByb3BlcnR5KG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5taW1lVHlwZUZpZWxkLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgbWFueXdoby51dGlscy5zZXRPYmplY3REYXRhUHJvcGVydHkob2JqRGF0YS5wcm9wZXJ0aWVzLG1vZGVsLmF0dHJpYnV0ZXM/LnNpemVGaWVsZCxcIlwiKTtcclxuICAgICAgICAgICAgICAgIG1hbnl3aG8udXRpbHMuc2V0T2JqZWN0RGF0YVByb3BlcnR5KG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5kYXRhRmllbGQsXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqRGF0YS5pc1NlbGVjdGVkPWZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMucHJvcHMuaWQsIHtvYmplY3REYXRhOiBbb2JqRGF0YV19LCB0aGlzLnByb3BzLmZsb3dLZXksdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1hbnl3aG8uY29tcG9uZW50LmhhbmRsZUV2ZW50KHRoaXMsIG1vZGVsLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHBpY2tGaWxlKCkge1xyXG4gICAgICAgIHRoaXMuZmlsZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5maWxlSW5wdXQuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0ltYWdlKG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBzd2l0Y2ggKG1pbWVUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ltYWdlL2pwZyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2ltYWdlL2pwZWcnOlxyXG4gICAgICAgICAgICBjYXNlICdpbWFnZS9ibXAnOlxyXG4gICAgICAgICAgICBjYXNlICdpbWFnZS9naWYnOlxyXG4gICAgICAgICAgICBjYXNlICdpbWFnZS9naWZmJzpcclxuICAgICAgICAgICAgY2FzZSAnaW1hZ2UvcG5nJzpcclxuICAgICAgICAgICAgY2FzZSAnaW1hZ2Uvd2VicCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZpbGVTZWxlY3RlZChlOiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5maWxlSW5wdXQuZmlsZXMgJiYgdGhpcy5maWxlSW5wdXQuZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlOiBGaWxlID0gdGhpcy5maWxlSW5wdXQuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIGxldCBkYXRhVVJMOiBzdHJpbmcgPSBhd2FpdCB0aGlzLmZpbGVSZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICBjb25zdCBmbmFtZTogc3RyaW5nID0gZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykgPj0gMCA/IGZpbGUubmFtZS5zdWJzdHJpbmcoMCwgZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykpIDogZmlsZS5uYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBleHQ6IHN0cmluZyA9IGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpID49IDAgPyBmaWxlLm5hbWUuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpICsgMSkudG9Mb3dlckNhc2UoKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCB0eXA6IHN0cmluZyA9IGZpbGUudHlwZTtcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZTogbnVtYmVyID0gZmlsZS5zaXplO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1heFNpemU6IG51bWJlciA9IHBhcnNlSW50KG1vZGVsLmF0dHJpYnV0ZXNbXCJtYXhTaXplS0JcIl0gfHwgMCk7XHJcbiAgICAgICAgICAgIGlmKG1heFNpemU+MCAmJiBzaXplPihtYXhTaXplICogMTAwMCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm94LnNob3dEaWFsb2coXHJcbiAgICAgICAgICAgICAgICAgICAgXCJGaWxlIFRvbyBMYXJnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICg8c3Bhbj5UaGUgZmlsZSB5b3UgaGF2ZSBjaG9zZW4gaXMgeyBzaXplIH0gYnl0ZXMgbG9uZyBhbmQgZXhjZWVkcyB0aGUgbWF4aW11bSBmaWxlIHNpemUgb2YgeyBtYXhTaXplIH08L3NwYW4+KSxcclxuICAgICAgICAgICAgICAgICAgICBbbmV3IG1vZGFsRGlhbG9nQnV0dG9uKFwiT2tcIix0aGlzLm1lc3NhZ2VCb3guaGlkZURpYWxvZyldXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSW1hZ2UodHlwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWdTaXplOiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChtb2RlbC5hdHRyaWJ1dGVzWydpbWFnZVNpemUnXSB8fCAnMCcpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdTaXplID0gcGFyc2VJbnQobW9kZWwuYXR0cmlidXRlc1snaW1hZ2VTaXplJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihpbWdTaXplID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJMID0gYXdhaXQgdGhpcy5SZXNpemVCYXNlNjRJbWcoZGF0YVVSTCwgaW1nU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuZXdTdGF0ZSA6IGFueSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLmNvbnRlbnRUeXBlID09PSAnQ29udGVudFN0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB7Y29udGVudFZhbHVlOiBkYXRhVVJMfSwgdGhpcy5wcm9wcy5mbG93S2V5LHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqRGF0YTogYW55O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHN0YXRlLm9iamVjdERhdGEgJiYgc3RhdGUub2JqZWN0RGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iakRhdGEgPSBzdGF0ZS5vYmplY3REYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqRGF0YSA9IHN0YXRlLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFvYmpEYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobW9kZWwub2JqZWN0RGF0YSAmJiBtb2RlbC5vYmplY3REYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakRhdGEgPSBtb2RlbC5vYmplY3REYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqRGF0YSA9IG1vZGVsLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9iakRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob2JqRGF0YS5wcm9wZXJ0aWVzLG1vZGVsLmF0dHJpYnV0ZXM/LmZpbGVOYW1lRmllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFueXdoby51dGlscy5zZXRPYmplY3REYXRhUHJvcGVydHkob2JqRGF0YS5wcm9wZXJ0aWVzLG1vZGVsLmF0dHJpYnV0ZXM/LmZpbGVOYW1lRmllbGQsZm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5leHRlbnNpb25GaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnV0aWxzLnNldE9iamVjdERhdGFQcm9wZXJ0eShvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlcz8uZXh0ZW5zaW9uRmllbGQsZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlcz8ubWltZVR5cGVGaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnV0aWxzLnNldE9iamVjdERhdGFQcm9wZXJ0eShvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlcz8ubWltZVR5cGVGaWVsZCx0eXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5zaXplRmllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFueXdoby51dGlscy5zZXRPYmplY3REYXRhUHJvcGVydHkob2JqRGF0YS5wcm9wZXJ0aWVzLG1vZGVsLmF0dHJpYnV0ZXM/LnNpemVGaWVsZCxzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlcz8uZGF0YUZpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnl3aG8udXRpbHMuc2V0T2JqZWN0RGF0YVByb3BlcnR5KG9iakRhdGEucHJvcGVydGllcyxtb2RlbC5hdHRyaWJ1dGVzPy5kYXRhRmllbGQsZGF0YVVSTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vb2JqZWN0RGF0YS5pc1NlbGVjdGVkPXRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFueXdoby5zdGF0ZS5zZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwge29iamVjdERhdGE6IFtvYmpEYXRhXX0sIHRoaXMucHJvcHMuZmxvd0tleSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5hdHRyaWJ1dGVzPy5vblNlbGVjdGVkICYmIG1vZGVsLmF0dHJpYnV0ZXMub25TZWxlY3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG91dGNvbWVzOiBhbnkgPSBtYW55d2hvLm1vZGVsLmdldE91dGNvbWVzKHRoaXMucHJvcHMuaWQsdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2xvc2VPdXRjb21lOiBhbnkgPSBvdXRjb21lcy5maW5kKChvdXRjb21lOiBhbnkpID0+IG91dGNvbWUudmFsdWUgPT09IG1vZGVsLmF0dHJpYnV0ZXMub25TZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2xvc2VPdXRjb21lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1hbnl3aG8uY29tcG9uZW50Lm9uT3V0Y29tZShjbG9zZU91dGNvbWUsIG51bGwsIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFueXdoby5jb21wb25lbnQuaGFuZGxlRXZlbnQodGhpcywgbW9kZWwsIHRoaXMucHJvcHMuZmxvd0tleSwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmaWxlUmVhZEFzRGF0YVVSTChmaWxlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVhZGVyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignUHJvYmxlbSByZWFkaW5nIGZpbGUnKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBSZXNpemVCYXNlNjRJbWcoYmFzZTY0OiBzdHJpbmcsIHdpZHRoOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xyXG5cclxuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpbWcuaGVpZ2h0IC8gaW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2lkdGggKiBhc3BlY3RSYXRpbztcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVkdWN0aW9uRmFjdG9yID0gd2lkdGggLyBpbWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjYWxlKGNhbnZhcy53aWR0aCAvIGltZy53aWR0aCAsIGNhbnZhcy5oZWlnaHQgLyBpbWcuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAgLCAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2l6ZWQgPSBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc2l6ZWQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdQcm9ibGVtIGxvYWRpbmcgaW1hZ2UgZmlsZScpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IGJhc2U2NDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IG1vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICBsZXQgc3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG5cclxuICAgICAgICBsZXQgY29tcG9uZW50Q2xhc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGhlYWRlckNsYXNzOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGxldCB0aXRsZTogc3RyaW5nID0gbW9kZWwuYXR0cmlidXRlcz8udGl0bGUgfHwgJ1NlbGVjdCBGaWxlJztcclxuXHJcbiAgICAgICAgaWYobW9kZWwuYXR0cmlidXRlcz8udHJhbnNwYXJlbnQ/LnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKXtcclxuICAgICAgICAgICAgY29tcG9uZW50Q2xhc3MgPSBcImZpbGUtcGlja2VyLXRyYW5zcGFyZW50IFwiICsgbW9kZWwuYXR0cmlidXRlcz8uY2xhc3NlcztcclxuICAgICAgICAgICAgaGVhZGVyQ2xhc3MgPSBcImZpbGUtcGlja2VyLWhlYWRlci10cmFuc3BhcmVudCBcIjtcclxuICAgICAgICAgICAgdGl0bGU9XCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudENsYXNzID0gXCJmaWxlLXBpY2tlciBcIiArIG1vZGVsLmF0dHJpYnV0ZXM/LmNsYXNzZXM7XHJcbiAgICAgICAgICAgIGhlYWRlckNsYXNzID0gXCJmaWxlLXBpY2tlci1oZWFkZXIgXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzdHlsZTogQ1NTUHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgIHN0eWxlLndpZHRoPVwiLXdlYmtpdC1maWxsLWF2YWlsYWJsZVwiO1xyXG4gICAgICAgIHN0eWxlLmhlaWdodD1cIi13ZWJraXQtZmlsbC1hdmFpbGFibGVcIjtcclxuXHJcbiAgICAgICAgaWYobW9kZWwuaXNWaXNpYmxlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG1vZGVsLndpZHRoKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLndpZHRoPW1vZGVsLndpZHRoICsgXCJweFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG1vZGVsLmhlaWdodCkge1xyXG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQ9bW9kZWwuaGVpZ2h0ICsgXCJweFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZmlsZVBpY2s6IGFueTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY2xlYXJCdXR0b246IGFueTtcclxuICAgICAgICBmaWxlUGljayA9IHRoaXMucGlja0ZpbGU7XHJcbiAgICAgICAgY2xlYXJCdXR0b24gPSAoXHJcbiAgICAgICAgICAgIDxzcGFuIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUgZmlsZS1waWNrZXItaGVhZGVyLWJ1dHRvblwiIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbGVhckZpbGV9XHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkNsZWFyIHNlbGVjdGVkIGZpbGVcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGxldCBmaWxlOiBhbnk7XHJcbiAgICAgICAgbGV0IG1pbWVUeXBlOiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGZpbGVDb250ZW50OiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGZpbGVOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGV4dGVuc2lvbjogc3RyaW5nO1xyXG4gICAgICAgIGxldCBjb250ZW50OiBhbnk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKG1vZGVsLmNvbnRlbnRUeXBlID09PSBcIkNvbnRlbnRTdHJpbmdcIikge1xyXG4gICAgICAgICAgICBmaWxlQ29udGVudD1zdGF0ZS5jb250ZW50VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgb2JqRGF0YTogYW55O1xyXG4gICAgICAgICAgICBpZihzdGF0ZSAmJiBzdGF0ZS5vYmplY3REYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKHN0YXRlLm9iamVjdERhdGEgaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqRGF0YT1zdGF0ZS5vYmplY3REYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqRGF0YT1zdGF0ZS5vYmplY3REYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIW9iakRhdGEpe1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYobW9kZWwub2JqZWN0RGF0YSAmJiBtb2RlbC5vYmplY3REYXRhIGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgICAgICAgICAgICAgIG9iakRhdGE9bW9kZWwub2JqZWN0RGF0YVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iakRhdGE9bW9kZWwub2JqZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKG9iakRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMucHJvcHMuaWQsIHtvYmplY3REYXRhOiBbb2JqRGF0YV19LCB0aGlzLnByb3BzLmZsb3dLZXksdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9iakRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gbWFueXdoby51dGlscy5nZXRPYmplY3REYXRhUHJvcGVydHkob2JqRGF0YS5wcm9wZXJ0aWVzLG1vZGVsLmF0dHJpYnV0ZXNbXCJmaWxlTmFtZUZpZWxkXCJdKT8uY29udGVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZmlsZUNvbnRlbnQgPSBtYW55d2hvLnV0aWxzLmdldE9iamVjdERhdGFQcm9wZXJ0eShvYmpEYXRhLnByb3BlcnRpZXMsbW9kZWwuYXR0cmlidXRlc1tcImRhdGFGaWVsZFwiXSk/LmNvbnRlbnRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvL2ZpbGUgPSB0aGlzLmdldFN0YXRlVmFsdWUoKSBhcyBGbG93T2JqZWN0RGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGZpbGVDb250ZW50KSB7XHJcbiAgICAgICAgICAgIG1pbWVUeXBlID0gZmlsZUNvbnRlbnQuc3Vic3RyaW5nKGZpbGVDb250ZW50LmluZGV4T2YoJzonKSArIDEsIGZpbGVDb250ZW50LmluZGV4T2YoJzsnKSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbWFnZShtaW1lVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PYmplY3RGaXQ6ICdjb3ZlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17KGVsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQpID0+IHt0aGlzLmltZyA9IGVsZW1lbnQ7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGUtcGlja2VyLWltYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtmaWxlQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Mb2FkPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzY2FsZUltYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS1waWNrZXItZmlsZS1uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogMVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcImF1dG9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGUtcGlja2VyLWZpbGUtbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e21hcmdpbjogXCJhdXRvXCJ9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJObyBmaWxlIHNlbGVjdGVkXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGUtcGlja2VyLWZpbGUtbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e21hcmdpbjogXCJhdXRvXCJ9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJDbGljayB0byBzZWxlY3QgYSBmaWxlXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMubGFzdENvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y29tcG9uZW50Q2xhc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dCb3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsoZWxlbWVudDogRGlhbG9nQm94KSA9PiB7dGhpcy5tZXNzYWdlQm94ID0gZWxlbWVudH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aGVhZGVyQ2xhc3N9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtcGlja2VyLWhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmaWxlLXBpY2tlci1oZWFkZXItdGl0bGVcIj57dGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXBpY2tlci1oZWFkZXItcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjbGVhckJ1dHRvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS1waWNrZXItYm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2ZpbGVQaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhlbGVtZW50OiBhbnkpID0+IHt0aGlzLmltZ0RpdiA9IGVsZW1lbnQ7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhlbGU6IGFueSkgPT4ge3RoaXMuZmlsZUlucHV0ID0gZWxlOyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS1maWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmZpbGVTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29udGVudDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1hbnl3aG8uY29tcG9uZW50LnJlZ2lzdGVyKCdGaWxlUGlja2VyJywgRmlsZVBpY2tlcik7XHJcblxyXG4iLCJleHBvcnQgKiBmcm9tICcuL0ZpbGVQaWNrZXInOyIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MjkpO1xuIl0sIm5hbWVzIjpbInByb3BzIiwiZHJhZ0V2ZW50IiwiRHJhZ0V2ZW50IiwiZGlhbG9nVmlzaWJsZSIsImRpYWxvZ1RpdGxlIiwiZGlhbG9nQnV0dG9ucyIsImRpYWxvZ09uQ2xvc2UiLCJoaWRlRGlhbG9nIiwidG9wIiwibGVmdCIsImhhbmRsZUtleVVwIiwiYmluZCIsImhhbmRsZU91dHNpZGVDbGljayIsInNob3dEaWFsb2ciLCJzZXREaWFsb2ciLCJkaWFsb2ciLCJ0aGlzIiwicGFyZW50WENlbnRlciIsIm9mZnNldFBhcmVudCIsImNsaWVudFdpZHRoIiwicGFyZW50WUNlbnRlciIsImNsaWVudEhlaWdodCIsImRpYWxvZ1hPZmZzZXQiLCJkaWFsb2dZT2Zmc2V0IiwiY2xhc3NMaXN0IiwiYWRkIiwicG9zaXRpb25EaWFsb2ciLCJzdHlsZSIsInN0b3BFdmVudEJ1YmJsZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImNhbmNlbEJ1YmJsZSIsInJldHVyblZhbHVlIiwiY29tcG9uZW50RGlkTW91bnQiLCJmb3JjZVVwZGF0ZSIsInRpdGxlIiwiY29udGVudCIsImJ1dHRvbnMiLCJvbkNsb3NlIiwiZGlhbG9nQ29udGVudCIsInVuZGVmaW5lZCIsImtleXMiLCJrZXlDb2RlIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJyZW5kZXIiLCJidXR0b24iLCJwdXNoIiwiY2xhc3NOYW1lIiwib25Nb3VzZURvd24iLCJoYW5kbGVyIiwibGFiZWwiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uQ29udGV4dE1lbnUiLCJyZWYiLCJub2RlIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJmbGV4R3JvdyIsIm1hcmdpbkxlZnQiLCJtb3ZlTWUiLCJjbGllbnRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibW91c2VPZmZzZXRZIiwiY2xpZW50WSIsInN0YXJ0IiwiZURyYWdFdmVudFR5cGUiLCJjbGllbnRYIiwidHlwZSIsIm1vdXNlT2Zmc2V0WCIsImVuZCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiRGlhbG9nQm94IiwibW9kYWxEaWFsb2dCdXR0b24iLCJ1bmtub3duIiwic291cmNlRWxlbWVudCIsInRhcmdldEVsZW1lbnQiLCJtb3VzZVgiLCJtb3VzZVkiLCJldnQiLCJkcmFnIiwibWFueXdobyIsImV2ZW50TWFuYWdlciIsImJlZm9yZVNlbmRMaXN0ZW5lcnMiLCJkb25lTGlzdGVuZXJzIiwiaW5pdGlhbGl6ZWRMaXN0ZW5lcnMiLCJqb2luTGlzdGVuZXJzIiwiZmFpbExpc3RlbmVycyIsIm91dGNvbWVCZWluZ1RyaWdnZXJlZCIsImhpc3RvcnkiLCJiZWZvcmVTZW5kIiwieGhyIiwicmVxdWVzdCIsImtleSIsIndpbmRvdyIsImhhc093blByb3BlcnR5IiwiY3VsdHVyZSIsImxlbmd0aCIsInNldFJlcXVlc3RIZWFkZXIiLCJqb2luIiwiZG9uZSIsImluaXRpYWxpemVkIiwiZmFpbCIsImFkZEJlZm9yZVNlbmRMaXN0ZW5lciIsImNvbXBvbmVudElkIiwicmVtb3ZlQmVmb3JlU2VuZExpc3RlbmVyIiwiYWRkSW5pdGlhbGl6ZWRMaXN0ZW5lciIsInJlbW92ZUluaXRpYWxpemVkTGlzdGVuZXIiLCJhZGRKb2luTGlzdGVuZXIiLCJyZW1vdmVKb2luTGlzdGVuZXIiLCJhZGREb25lTGlzdGVuZXIiLCJyZW1vdmVEb25lTGlzdGVuZXIiLCJhZGRGYWlsTGlzdGVuZXIiLCJyZW1vdmVGYWlsTGlzdGVuZXIiLCJzZXR0aW5ncyIsImluaXRpYWxpemUiLCJpbnZva2UiLCJpbml0aWFsaXphdGlvbiIsInNlbGVjdGVkSXRlbSIsInRleHQiLCJsYXN0Q29udGVudCIsImZpbGVTZWxlY3RlZCIsImZpbGVSZWFkQXNEYXRhVVJMIiwiUmVzaXplQmFzZTY0SW1nIiwiY2xlYXJGaWxlIiwicGlja0ZpbGUiLCJpc0ltYWdlIiwicmVzY2FsZUltYWdlIiwiZmxvd01vdmVkIiwic3RhdGUiLCJpbWdEYXRhIiwiZmlsZU5hbWUiLCJpbnZva2VUeXBlIiwicHJlc2VydmVTdGF0ZSIsIm1vZGVsIiwiZ2V0Q29tcG9uZW50IiwiaWQiLCJmbG93S2V5IiwibmV3U3RhdGUiLCJjb250ZW50VHlwZSIsImNvbnRlbnRWYWx1ZSIsIm9iamVjdERhdGEiLCJzZXRDb21wb25lbnQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImltZyIsIndpZHRoIiwiaGVpZ2h0IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImNvbnNvbGUiLCJsb2ciLCJvYmpEYXRhIiwiQXJyYXkiLCJ1dGlscyIsInNldE9iamVjdERhdGFQcm9wZXJ0eSIsInByb3BlcnRpZXMiLCJhdHRyaWJ1dGVzIiwiZmlsZU5hbWVGaWVsZCIsImV4dGVuc2lvbkZpZWxkIiwibWltZVR5cGVGaWVsZCIsInNpemVGaWVsZCIsImRhdGFGaWVsZCIsImlzU2VsZWN0ZWQiLCJjb21wb25lbnQiLCJoYW5kbGVFdmVudCIsImZpbGVJbnB1dCIsInZhbHVlIiwiY2xpY2siLCJtaW1lVHlwZSIsImZpbGVzIiwiZmlsZSIsImRhdGFVUkwiLCJmbmFtZSIsIm5hbWUiLCJsYXN0SW5kZXhPZiIsInN1YnN0cmluZyIsImV4dCIsInRvTG93ZXJDYXNlIiwidHlwIiwic2l6ZSIsIm1heFNpemUiLCJwYXJzZUludCIsIm1lc3NhZ2VCb3giLCJpbWdTaXplIiwib25TZWxlY3RlZCIsIm91dGNvbWVzIiwiZ2V0T3V0Y29tZXMiLCJjbG9zZU91dGNvbWUiLCJmaW5kIiwib3V0Y29tZSIsIm9uT3V0Y29tZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9uZXJyb3IiLCJhYm9ydCIsIkRPTUV4Y2VwdGlvbiIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJiYXNlNjQiLCJJbWFnZSIsImFzcGVjdFJhdGlvIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJzY2FsZSIsImRyYXdJbWFnZSIsInJlc2l6ZWQiLCJ0b0RhdGFVUkwiLCJzcmMiLCJjb21wb25lbnRDbGFzcyIsImhlYWRlckNsYXNzIiwidHJhbnNwYXJlbnQiLCJjbGFzc2VzIiwiZmlsZVBpY2siLCJjbGVhckJ1dHRvbiIsImZpbGVDb250ZW50IiwiaXNWaXNpYmxlIiwib25DbGljayIsImdldE9iamVjdERhdGFQcm9wZXJ0eSIsImluZGV4T2YiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsIk9PYmplY3RGaXQiLCJlbGVtZW50Iiwib25Mb2FkIiwibWFyZ2luIiwiaW1nRGl2IiwiZWxlIiwib25DaGFuZ2UiLCJyZWdpc3RlciIsIkZpbGVQaWNrZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9